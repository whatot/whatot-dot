# VIM 正则记录

## 字幕错误替换

	\(\S\{2\}\:\S\{2\}\:\S\{2\}\) \(\S\{3\}\)
	:%s/\(\S\{2\}\:\S\{2\}\:\S\{2\}\) \(\S\{3\}\)/\1,\2/g
	:%s/\v(\S{2}\:\S{2}\:\S{2}) (\S{3})/\1,\2/g

> 借鉴后修改

将每个数字行后面的时间

	02:10:07 376 --> 02:10:10 436

替换成

	02:10:07,376 --> 02:10:10,436

## 去掉第N行，N满足的条件是：第N行与第N-1、第N+1行的首字母都相同(不去掉首行与末行)

> http://segmentfault.com/q/1010000000196537

	%s/\v((.).*\n)((\2.*\n)+)(\2.*$)/\1\5/g

**分成三段解释一下**

	((.).*\n)
匹配第一行，外层分组用于替换的时候反向引用，内层分组用于后面判断

	((\2.*\n)+)
匹配接下来 以上一行第一个字母开头的行（1行或多行）

	(\2.*$)
匹配一行以第一行第一个字母开头的行

最后 \1\5 把上面匹配到的所有的行 替换成第一行和最后一行，即删除中间的行

注：最开始的\v是切换到perl正则模式，这样括号、加号就不需要转义了

## 以 print 开头的所有行中的 aaa 替换成 bbb

    :g/^print/s/aaa/bbb/g
